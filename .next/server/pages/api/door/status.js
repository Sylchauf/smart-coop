/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function() {
var exports = {};
exports.id = "pages/api/door/status";
exports.ids = ["pages/api/door/status"];
exports.modules = {

/***/ "./constants/DOOR_DIRECTION.js":
/*!*************************************!*\
  !*** ./constants/DOOR_DIRECTION.js ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst DOOR_DIRECTION = {\n  UP: \"up\",\n  DOWN: \"down\"\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DOOR_DIRECTION);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydC1jb29wLy4vY29uc3RhbnRzL0RPT1JfRElSRUNUSU9OLmpzP2Q1ZjUiXSwibmFtZXMiOlsiRE9PUl9ESVJFQ1RJT04iLCJVUCIsIkRPV04iXSwibWFwcGluZ3MiOiI7QUFBQSxNQUFNQSxjQUFjLEdBQUc7QUFDckJDLElBQUUsRUFBRSxJQURpQjtBQUVyQkMsTUFBSSxFQUFFO0FBRmUsQ0FBdkI7QUFLQSwrREFBZUYsY0FBZiIsImZpbGUiOiIuL2NvbnN0YW50cy9ET09SX0RJUkVDVElPTi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IERPT1JfRElSRUNUSU9OID0ge1xuICBVUDogXCJ1cFwiLFxuICBET1dOOiBcImRvd25cIixcbn07XG5cbmV4cG9ydCBkZWZhdWx0IERPT1JfRElSRUNUSU9OO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./constants/DOOR_DIRECTION.js\n");

/***/ }),

/***/ "./constants/DOOR_STATE.js":
/*!*********************************!*\
  !*** ./constants/DOOR_STATE.js ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst DOOR_STATE = {\n  TOP: \"top\",\n  BOTTOM: \"bottom\"\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DOOR_STATE);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydC1jb29wLy4vY29uc3RhbnRzL0RPT1JfU1RBVEUuanM/NzJjYiJdLCJuYW1lcyI6WyJET09SX1NUQVRFIiwiVE9QIiwiQk9UVE9NIl0sIm1hcHBpbmdzIjoiO0FBQUEsTUFBTUEsVUFBVSxHQUFHO0FBQ2pCQyxLQUFHLEVBQUUsS0FEWTtBQUVqQkMsUUFBTSxFQUFFO0FBRlMsQ0FBbkI7QUFLQSwrREFBZUYsVUFBZiIsImZpbGUiOiIuL2NvbnN0YW50cy9ET09SX1NUQVRFLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgRE9PUl9TVEFURSA9IHtcbiAgVE9QOiBcInRvcFwiLFxuICBCT1RUT006IFwiYm90dG9tXCIsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBET09SX1NUQVRFO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./constants/DOOR_STATE.js\n");

/***/ }),

/***/ "./engine/door.ts":
/*!************************!*\
  !*** ./engine/door.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"moveDoor\": function() { return /* binding */ moveDoor; },\n/* harmony export */   \"correctBottom\": function() { return /* binding */ correctBottom; },\n/* harmony export */   \"correctTop\": function() { return /* binding */ correctTop; },\n/* harmony export */   \"doorState\": function() { return /* binding */ doorState; },\n/* harmony export */   \"status\": function() { return /* binding */ status; }\n/* harmony export */ });\n/* harmony import */ var _lib_getConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/getConfig */ \"./lib/getConfig.js\");\n/* harmony import */ var _lib_getConfig__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lib_getConfig__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _constants_DOOR_STATE__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants/DOOR_STATE */ \"./constants/DOOR_STATE.js\");\n/* harmony import */ var _constants_DOOR_DIRECTION__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants/DOOR_DIRECTION */ \"./constants/DOOR_DIRECTION.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _server_modules_motor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../server/modules/motor */ \"./server/modules/motor/index.js\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/logger */ \"./lib/logger.js\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_lib_logger__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\nconst config = _lib_getConfig__WEBPACK_IMPORTED_MODULE_0___default()(); // @ts-ignore\n\n\n\nconst status = {\n  status: \"stop\",\n  previousStatus: \"stop\"\n};\nconst initialState = {\n  durationUpSec: 0,\n  durationDownSec: 0,\n  state: _constants_DOOR_STATE__WEBPACK_IMPORTED_MODULE_1__.default.BOTTOM\n};\nconst filePathState = \"state/doorState.json\";\nconst doorState = fs__WEBPACK_IMPORTED_MODULE_3___default().existsSync(filePathState) ? JSON.parse(fs__WEBPACK_IMPORTED_MODULE_3___default().readFileSync(filePathState).toString()) : initialState;\n\nconst setDoorState = (key, value) => {\n  doorState[key] = value;\n  fs__WEBPACK_IMPORTED_MODULE_3___default().writeFileSync(filePathState, JSON.stringify(doorState));\n};\n\nconst setDoorStatus = _status => {\n  // Remember old values\n  status.previousStatus = status.status;\n  status.status = _status;\n};\n\nconst correctTop = () => {\n  _lib_logger__WEBPACK_IMPORTED_MODULE_5___default().info(`[Door] Try to apply correction for up (${config.door.correctionSec}s)`);\n  return moveDoor(_constants_DOOR_DIRECTION__WEBPACK_IMPORTED_MODULE_2__.default.UP, config.door.correctionSec);\n};\n\nconst correctBottom = () => {\n  _lib_logger__WEBPACK_IMPORTED_MODULE_5___default().info(`[Door] Apply correction for down (${config.door.correctionSec}s)`);\n  return moveDoor(_constants_DOOR_DIRECTION__WEBPACK_IMPORTED_MODULE_2__.default.DOWN, config.door.correctionSec);\n};\n\nconst makeResponse = (status, message, logType = \"info\") => {\n  const response = {\n    status,\n    message\n  }; // @ts-ignore\n\n  (_lib_logger__WEBPACK_IMPORTED_MODULE_5___default())[logType](message);\n  return response;\n};\n\nconst moveDoor = (direction, forceDuration) => {\n  // Check if the motor can move\n  if (direction !== _constants_DOOR_DIRECTION__WEBPACK_IMPORTED_MODULE_2__.default.UP && direction !== _constants_DOOR_DIRECTION__WEBPACK_IMPORTED_MODULE_2__.default.DOWN) return makeResponse(400, \"[Door] Invalid parameter (up/down)\", \"warn\");\n  if (direction === _constants_DOOR_DIRECTION__WEBPACK_IMPORTED_MODULE_2__.default.UP && doorState.state === _constants_DOOR_STATE__WEBPACK_IMPORTED_MODULE_1__.default.TOP && !forceDuration) return makeResponse(409, \"[Door] You ask to open the door : it's already open\", \"warn\");\n  if (direction === _constants_DOOR_DIRECTION__WEBPACK_IMPORTED_MODULE_2__.default.DOWN && doorState.state === _constants_DOOR_STATE__WEBPACK_IMPORTED_MODULE_1__.default.BOTTOM && !forceDuration) return makeResponse(409, \"[Door] You ask to close the door : it's already close\", \"warn\");\n  if (status.status !== \"stop\") return makeResponse(425, `[Door] Already moving ...`); // Ok, we pass securities : start the engine now\n\n  const duration = forceDuration ? forceDuration : direction === _constants_DOOR_DIRECTION__WEBPACK_IMPORTED_MODULE_2__.default.UP ? doorState.durationUpSec : doorState.durationDownSec;\n  if (duration <= 0) return makeResponse(500, `[Door] Cant move for ${duration}s ...`);\n\n  if (direction === _constants_DOOR_DIRECTION__WEBPACK_IMPORTED_MODULE_2__.default.UP) {\n    // @ts-ignore\n    _server_modules_motor__WEBPACK_IMPORTED_MODULE_4__.motorInstance.moveUp();\n  } else if (direction === _constants_DOOR_DIRECTION__WEBPACK_IMPORTED_MODULE_2__.default.DOWN) {\n    // @ts-ignore\n    _server_modules_motor__WEBPACK_IMPORTED_MODULE_4__.motorInstance.moveDown();\n  }\n\n  setDoorStatus(\"moving \" + direction); // Switch off the motor later\n\n  setTimeout(() => {\n    stopDoor();\n    if (!forceDuration) setDoorState(\"state\", direction === _constants_DOOR_DIRECTION__WEBPACK_IMPORTED_MODULE_2__.default.UP ? _constants_DOOR_STATE__WEBPACK_IMPORTED_MODULE_1__.default.TOP : _constants_DOOR_STATE__WEBPACK_IMPORTED_MODULE_1__.default.BOTTOM);\n    _lib_logger__WEBPACK_IMPORTED_MODULE_5___default().info(`[Door] Stoppingâ€¦`);\n  }, duration * 1000);\n  return makeResponse(200, `[Door] Moving ${direction} for ${duration}s ${forceDuration ? \"(forced/calibration)\" : \"(classical)\"}`);\n};\n\nconst stopDoor = () => {\n  // @ts-ignore\n  _server_modules_motor__WEBPACK_IMPORTED_MODULE_4__.motorInstance.stop();\n  setDoorStatus(\"stop\");\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydC1jb29wLy4vZW5naW5lL2Rvb3IudHM/MGYwMyJdLCJuYW1lcyI6WyJjb25maWciLCJnZXRDb25maWciLCJzdGF0dXMiLCJwcmV2aW91c1N0YXR1cyIsImluaXRpYWxTdGF0ZSIsImR1cmF0aW9uVXBTZWMiLCJkdXJhdGlvbkRvd25TZWMiLCJzdGF0ZSIsIkRPT1JfU1RBVEUiLCJCT1RUT00iLCJmaWxlUGF0aFN0YXRlIiwiZG9vclN0YXRlIiwiZnMiLCJKU09OIiwicGFyc2UiLCJ0b1N0cmluZyIsInNldERvb3JTdGF0ZSIsImtleSIsInZhbHVlIiwic3RyaW5naWZ5Iiwic2V0RG9vclN0YXR1cyIsIl9zdGF0dXMiLCJjb3JyZWN0VG9wIiwibG9nZ2VyIiwiZG9vciIsImNvcnJlY3Rpb25TZWMiLCJtb3ZlRG9vciIsIkRPT1JfRElSRUNUSU9OIiwiY29ycmVjdEJvdHRvbSIsIm1ha2VSZXNwb25zZSIsIm1lc3NhZ2UiLCJsb2dUeXBlIiwicmVzcG9uc2UiLCJkaXJlY3Rpb24iLCJmb3JjZUR1cmF0aW9uIiwiZHVyYXRpb24iLCJtb3Rvckluc3RhbmNlIiwic2V0VGltZW91dCIsInN0b3BEb29yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxxREFBUyxFQUF4QixDLENBRUE7O0FBQ0E7QUFDQTtBQUVBLE1BQU1DLE1BQU0sR0FBRztBQUNiQSxRQUFNLEVBQUUsTUFESztBQUViQyxnQkFBYyxFQUFFO0FBRkgsQ0FBZjtBQUtBLE1BQU1DLFlBQVksR0FBRztBQUNuQkMsZUFBYSxFQUFFLENBREk7QUFFbkJDLGlCQUFlLEVBQUUsQ0FGRTtBQUduQkMsT0FBSyxFQUFFQyxpRUFBaUJDO0FBSEwsQ0FBckI7QUFNQSxNQUFNQyxhQUFhLEdBQUcsc0JBQXRCO0FBQ0EsTUFBTUMsU0FBUyxHQUFHQyxvREFBQSxDQUFjRixhQUFkLElBQ2RHLElBQUksQ0FB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YixDQUFiLENBaEQ4RCxDQWtEOUQ7O0FBQ0FJLFlBQVUsQ0FBQyxNQUFNO0FBQ2ZDLFlBQVE7QUFFUixRQUFJLENBQUNKLGFBQUwsRUFDRWxCLFlBQVksQ0FDVixPQURVLEVBRVZpQixTQUFTLEtBQUtOLGlFQUFkLEdBQWtDbkIsOERBQWxDLEdBQW1EQSxpRUFGekMsQ0FBWjtBQUtGZSwyREFBQSxDQUFhLGtCQUFiO0FBQ0QsR0FWUyxFQVVQWSxRQUFRLEdBQUcsSUFWSixDQUFWO0FBWUEsU0FBT04sWUFBWSxDQUNqQixHQURpQixFQUVoQixpQkFBZ0JJLFNBQVUsUUFBT0UsUUFBUyxLQUN6Q0QsYUFBYSxHQUFHLHNCQUFILEdBQTRCLGFBQzFDLEVBSmdCLENBQW5CO0FBTUQsQ0FyRUQ7O0FBdUVBLE1BQU1JLFFBQVEsR0FBRyxNQUFNO0FBQ3JCO0FBQ0FGLHVFQUFBO0FBQ0FoQixlQUFhLENBQUMsTUFBRCxDQUFiO0FBQ0QsQ0FKRCIsImZpbGUiOiIuL2VuZ2luZS9kb29yLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGdldENvbmZpZyBmcm9tIFwiLi4vbGliL2dldENvbmZpZ1wiO1xuaW1wb3J0IERPT1JfU1RBVEUgZnJvbSBcIi4uL2NvbnN0YW50cy9ET09SX1NUQVRFXCI7XG5pbXBvcnQgRE9PUl9ESVJFQ1RJT04gZnJvbSBcIi4uL2NvbnN0YW50cy9ET09SX0RJUkVDVElPTlwiO1xuaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuXG5jb25zdCBjb25maWcgPSBnZXRDb25maWcoKTtcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHsgbW90b3JJbnN0YW5jZSB9IGZyb20gXCIuLi9zZXJ2ZXIvbW9kdWxlcy9tb3RvclwiO1xuaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi4vbGliL2xvZ2dlclwiO1xuXG5jb25zdCBzdGF0dXMgPSB7XG4gIHN0YXR1czogXCJzdG9wXCIsXG4gIHByZXZpb3VzU3RhdHVzOiBcInN0b3BcIixcbn07XG5cbmNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgZHVyYXRpb25VcFNlYzogMCxcbiAgZHVyYXRpb25Eb3duU2VjOiAwLFxuICBzdGF0ZTogRE9PUl9TVEFURS5CT1RUT00sXG59O1xuXG5jb25zdCBmaWxlUGF0aFN0YXRlID0gXCJzdGF0ZS9kb29yU3RhdGUuanNvblwiO1xuY29uc3QgZG9vclN0YXRlID0gZnMuZXhpc3RzU3luYyhmaWxlUGF0aFN0YXRlKVxuICA/IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKGZpbGVQYXRoU3RhdGUpLnRvU3RyaW5nKCkpXG4gIDogaW5pdGlhbFN0YXRlO1xuXG5jb25zdCBzZXREb29yU3RhdGUgPSAoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgZG9vclN0YXRlW2tleV0gPSB2YWx1ZTtcblxuICBmcy53cml0ZUZpbGVTeW5jKGZpbGVQYXRoU3RhdGUsIEpTT04uc3RyaW5naWZ5KGRvb3JTdGF0ZSkpO1xufTtcblxuY29uc3Qgc2V0RG9vclN0YXR1cyA9IChfc3RhdHVzOiBzdHJpbmcpID0+IHtcbiAgLy8gUmVtZW1iZXIgb2xkIHZhbHVlc1xuICBzdGF0dXMucHJldmlvdXNTdGF0dXMgPSBzdGF0dXMuc3RhdHVzO1xuXG4gIHN0YXR1cy5zdGF0dXMgPSBfc3RhdHVzO1xufTtcblxuY29uc3QgY29ycmVjdFRvcCA9ICgpID0+IHtcbiAgbG9nZ2VyLmluZm8oXG4gICAgYFtEb29yXSBUcnkgdG8gYXBwbHkgY29ycmVjdGlvbiBmb3IgdXAgKCR7Y29uZmlnLmRvb3IuY29ycmVjdGlvblNlY31zKWBcbiAgKTtcblxuICByZXR1cm4gbW92ZURvb3IoRE9PUl9ESVJFQ1RJT04uVVAsIGNvbmZpZy5kb29yLmNvcnJlY3Rpb25TZWMpO1xufTtcblxuY29uc3QgY29ycmVjdEJvdHRvbSA9ICgpID0+IHtcbiAgbG9nZ2VyLmluZm8oXG4gICAgYFtEb29yXSBBcHBseSBjb3JyZWN0aW9uIGZvciBkb3duICgke2NvbmZpZy5kb29yLmNvcnJlY3Rpb25TZWN9cylgXG4gICk7XG5cbiAgcmV0dXJuIG1vdmVEb29yKERPT1JfRElSRUNUSU9OLkRPV04sIGNvbmZpZy5kb29yLmNvcnJlY3Rpb25TZWMpO1xufTtcblxuY29uc3QgbWFrZVJlc3BvbnNlID0gKHN0YXR1czogbnVtYmVyLCBtZXNzYWdlOiBzdHJpbmcsIGxvZ1R5cGUgPSBcImluZm9cIikgPT4ge1xuICBjb25zdCByZXNwb25zZSA9IHtcbiAgICBzdGF0dXMsXG4gICAgbWVzc2FnZSxcbiAgfTtcblxuICAvLyBAdHMtaWdub3JlXG4gIGxvZ2dlcltsb2dUeXBlXShtZXNzYWdlKTtcblxuICByZXR1cm4gcmVzcG9uc2U7XG59O1xuXG5jb25zdCBtb3ZlRG9vciA9IChkaXJlY3Rpb246IHN0cmluZywgZm9yY2VEdXJhdGlvbj86IG51bWJlcikgPT4ge1xuICAvLyBDaGVjayBpZiB0aGUgbW90b3IgY2FuIG1vdmVcbiAgaWYgKGRpcmVjdGlvbiAhPT0gRE9PUl9ESVJFQ1RJT04uVVAgJiYgZGlyZWN0aW9uICE9PSBET09SX0RJUkVDVElPTi5ET1dOKVxuICAgIHJldHVybiBtYWtlUmVzcG9uc2UoNDAwLCBcIltEb29yXSBJbnZhbGlkIHBhcmFtZXRlciAodXAvZG93bilcIiwgXCJ3YXJuXCIpO1xuXG4gIGlmIChcbiAgICBkaXJlY3Rpb24gPT09IERPT1JfRElSRUNUSU9OLlVQICYmXG4gICAgZG9vclN0YXRlLnN0YXRlID09PSBET09SX1NUQVRFLlRPUCAmJlxuICAgICFmb3JjZUR1cmF0aW9uXG4gIClcbiAgICByZXR1cm4gbWFrZVJlc3BvbnNlKFxuICAgICAgNDA5LFxuICAgICAgXCJbRG9vcl0gWW91IGFzayB0byBvcGVuIHRoZSBkb29yIDogaXQncyBhbHJlYWR5IG9wZW5cIixcbiAgICAgIFwid2FyblwiXG4gICAgKTtcblxuICBpZiAoXG4gICAgZGlyZWN0aW9uID09PSBET09SX0RJUkVDVElPTi5ET1dOICYmXG4gICAgZG9vclN0YXRlLnN0YXRlID09PSBET09SX1NUQVRFLkJPVFRPTSAmJlxuICAgICFmb3JjZUR1cmF0aW9uXG4gIClcbiAgICByZXR1cm4gbWFrZVJlc3BvbnNlKFxuICAgICAgNDA5LFxuICAgICAgXCJbRG9vcl0gWW91IGFzayB0byBjbG9zZSB0aGUgZG9vciA6IGl0J3MgYWxyZWFkeSBjbG9zZVwiLFxuICAgICAgXCJ3YXJuXCJcbiAgICApO1xuXG4gIGlmIChzdGF0dXMuc3RhdHVzICE9PSBcInN0b3BcIilcbiAgICByZXR1cm4gbWFrZVJlc3BvbnNlKDQyNSwgYFtEb29yXSBBbHJlYWR5IG1vdmluZyAuLi5gKTtcblxuICAvLyBPaywgd2UgcGFzcyBzZWN1cml0aWVzIDogc3RhcnQgdGhlIGVuZ2luZSBub3dcbiAgY29uc3QgZHVyYXRpb24gPSBmb3JjZUR1cmF0aW9uXG4gICAgPyBmb3JjZUR1cmF0aW9uXG4gICAgOiBkaXJlY3Rpb24gPT09IERPT1JfRElSRUNUSU9OLlVQXG4gICAgPyBkb29yU3RhdGUuZHVyYXRpb25VcFNlY1xuICAgIDogZG9vclN0YXRlLmR1cmF0aW9uRG93blNlYztcblxuICBpZiAoZHVyYXRpb24gPD0gMClcbiAgICByZXR1cm4gbWFrZVJlc3BvbnNlKDUwMCwgYFtEb29yXSBDYW50IG1vdmUgZm9yICR7ZHVyYXRpb259cyAuLi5gKTtcblxuICBpZiAoZGlyZWN0aW9uID09PSBET09SX0RJUkVDVElPTi5VUCkge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBtb3Rvckluc3RhbmNlLm1vdmVVcCgpO1xuICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gRE9PUl9ESVJFQ1RJT04uRE9XTikge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBtb3Rvckluc3RhbmNlLm1vdmVEb3duKCk7XG4gIH1cblxuICBzZXREb29yU3RhdHVzKFwibW92aW5nIFwiICsgZGlyZWN0aW9uKTtcblxuICAvLyBTd2l0Y2ggb2ZmIHRoZSBtb3RvciBsYXRlclxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBzdG9wRG9vcigpO1xuXG4gICAgaWYgKCFmb3JjZUR1cmF0aW9uKVxuICAgICAgc2V0RG9vclN0YXRlKFxuICAgICAgICBcInN0YXRlXCIsXG4gICAgICAgIGRpcmVjdGlvbiA9PT0gRE9PUl9ESVJFQ1RJT04uVVAgPyBET09SX1NUQVRFLlRPUCA6IERPT1JfU1RBVEUuQk9UVE9NXG4gICAgICApO1xuXG4gICAgbG9nZ2VyLmluZm8oYFtEb29yXSBTdG9wcGluZ+KApmApO1xuICB9LCBkdXJhdGlvbiAqIDEwMDApO1xuXG4gIHJldHVybiBtYWtlUmVzcG9uc2UoXG4gICAgMjAwLFxuICAgIGBbRG9vcl0gTW92aW5nICR7ZGlyZWN0aW9ufSBmb3IgJHtkdXJhdGlvbn1zICR7XG4gICAgICBmb3JjZUR1cmF0aW9uID8gXCIoZm9yY2VkL2NhbGlicmF0aW9uKVwiIDogXCIoY2xhc3NpY2FsKVwiXG4gICAgfWBcbiAgKTtcbn07XG5cbmNvbnN0IHN0b3BEb29yID0gKCkgPT4ge1xuICAvLyBAdHMtaWdub3JlXG4gIG1vdG9ySW5zdGFuY2Uuc3RvcCgpO1xuICBzZXREb29yU3RhdHVzKFwic3RvcFwiKTtcbn07XG5cbmV4cG9ydCB7IG1vdmVEb29yLCBjb3JyZWN0Qm90dG9tLCBjb3JyZWN0VG9wLCBkb29yU3RhdGUsIHN0YXR1cyB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./engine/door.ts\n");

/***/ }),

/***/ "./lib/getConfig.js":
/*!**************************!*\
  !*** ./lib/getConfig.js ***!
  \**************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("const fs = __webpack_require__(/*! fs */ \"fs\");\n\nconst logger = __webpack_require__(/*! ./logger */ \"./lib/logger.js\");\n\nconst getConfig = () => {\n  if (fs.existsSync(\"./state/config.json\")) return JSON.parse(fs.readFileSync(\"./state/config.json\").toString());else {\n    const message = \"FATAL ERROR - NO CONFIG FILE DETECTED\";\n    logger.error(message);\n    throw new Error(message);\n  }\n};\n\nmodule.exports = getConfig;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydC1jb29wLy4vbGliL2dldENvbmZpZy5qcz9jNmE4Il0sIm5hbWVzIjpbImZzIiwicmVxdWlyZSIsImxvZ2dlciIsImdldENvbmZpZyIsImV4aXN0c1N5bmMiLCJKU09OIiwicGFyc2UiLCJyZWFkRmlsZVN5bmMiLCJ0b1N0cmluZyIsIm1lc3NhZ2UiLCJlcnJvciIsIkVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsRUFBRSxHQUFHQyxtQkFBTyxDQUFDLGNBQUQsQ0FBbEI7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHRCxtQkFBTyxDQUFDLGlDQUFELENBQXRCOztBQUVBLE1BQU1FLFNBQVMsR0FBRyxNQUFNO0FBQ3RCLE1BQUlILEVBQUUsQ0FBQ0ksVUFBSCxDQUFjLHFCQUFkLENBQUosRUFDRSxPQUFPQyxJQUFJLENBQUNDLEtBQUwsQ0FBV04sRUFBRSxDQUFDTyxZQUFILENBQWdCLHFCQUFoQixFQUF1Q0MsUUFBdkMsRUFBWCxDQUFQLENBREYsS0FFSztBQUNILFVBQU1DLE9BQU8sR0FBRyx1Q0FBaEI7QUFDQVAsVUFBTSxDQUFDUSxLQUFQLENBQWFELE9BQWI7QUFDQSxVQUFNLElBQUlFLEtBQUosQ0FBVUYsT0FBVixDQUFOO0FBQ0Q7QUFDRixDQVJEOztBQVVBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUJWLFNBQWpCIiwiZmlsZSI6Ii4vbGliL2dldENvbmZpZy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuY29uc3QgbG9nZ2VyID0gcmVxdWlyZShcIi4vbG9nZ2VyXCIpO1xuXG5jb25zdCBnZXRDb25maWcgPSAoKSA9PiB7XG4gIGlmIChmcy5leGlzdHNTeW5jKFwiLi9zdGF0ZS9jb25maWcuanNvblwiKSlcbiAgICByZXR1cm4gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMoXCIuL3N0YXRlL2NvbmZpZy5qc29uXCIpLnRvU3RyaW5nKCkpO1xuICBlbHNlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gXCJGQVRBTCBFUlJPUiAtIE5PIENPTkZJRyBGSUxFIERFVEVDVEVEXCI7XG4gICAgbG9nZ2VyLmVycm9yKG1lc3NhZ2UpO1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRDb25maWc7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/getConfig.js\n");

/***/ }),

/***/ "./lib/logger.js":
/*!***********************!*\
  !*** ./lib/logger.js ***!
  \***********************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("const winston = __webpack_require__(/*! winston */ \"winston\");\n\n__webpack_require__(/*! winston-daily-rotate-file */ \"winston-daily-rotate-file\");\n\nconst logger = winston.createLogger({\n  level: process.env.LOG_LEVEL || \"info\",\n  format: winston.format.json(),\n  transports: [new winston.transports.Console({\n    format: winston.format.simple(),\n    timestamp: true\n  })]\n});\nmodule.exports = logger;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydC1jb29wLy4vbGliL2xvZ2dlci5qcz80NWUzIl0sIm5hbWVzIjpbIndpbnN0b24iLCJyZXF1aXJlIiwibG9nZ2VyIiwiY3JlYXRlTG9nZ2VyIiwibGV2ZWwiLCJwcm9jZXNzIiwiZW52IiwiTE9HX0xFVkVMIiwiZm9ybWF0IiwianNvbiIsInRyYW5zcG9ydHMiLCJDb25zb2xlIiwic2ltcGxlIiwidGltZXN0YW1wIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxtQkFBTyxDQUFDLHdCQUFELENBQXZCOztBQUNBQSxtQkFBTyxDQUFDLDREQUFELENBQVA7O0FBRUEsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLFlBQVIsQ0FBcUI7QUFDbENDLE9BQUssRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFNBQVosSUFBeUIsTUFERTtBQUVsQ0MsUUFBTSxFQUFFUixPQUFPLENBQUNRLE1BQVIsQ0FBZUMsSUFBZixFQUYwQjtBQUdsQ0MsWUFBVSxFQUFFLENBQ1YsSUFBSVYsT0FBTyxDQUFDVSxVQUFSLENBQW1CQyxPQUF2QixDQUErQjtBQUM3QkgsVUFBTSxFQUFFUixPQUFPLENBQUNRLE1BQVIsQ0FBZUksTUFBZixFQURxQjtBQUU3QkMsYUFBUyxFQUFFO0FBRmtCLEdBQS9CLENBRFU7QUFIc0IsQ0FBckIsQ0FBZjtBQVdBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJiLE1BQWpCIiwiZmlsZSI6Ii4vbGliL2xvZ2dlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHdpbnN0b24gPSByZXF1aXJlKFwid2luc3RvblwiKTtcbnJlcXVpcmUoXCJ3aW5zdG9uLWRhaWx5LXJvdGF0ZS1maWxlXCIpO1xuXG5jb25zdCBsb2dnZXIgPSB3aW5zdG9uLmNyZWF0ZUxvZ2dlcih7XG4gIGxldmVsOiBwcm9jZXNzLmVudi5MT0dfTEVWRUwgfHwgXCJpbmZvXCIsXG4gIGZvcm1hdDogd2luc3Rvbi5mb3JtYXQuanNvbigpLFxuICB0cmFuc3BvcnRzOiBbXG4gICAgbmV3IHdpbnN0b24udHJhbnNwb3J0cy5Db25zb2xlKHtcbiAgICAgIGZvcm1hdDogd2luc3Rvbi5mb3JtYXQuc2ltcGxlKCksXG4gICAgICB0aW1lc3RhbXA6IHRydWUsXG4gICAgfSksXG4gIF0sXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBsb2dnZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/logger.js\n");

/***/ }),

/***/ "./pages/api/door/status.ts":
/*!**********************************!*\
  !*** ./pages/api/door/status.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _engine_door__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../engine/door */ \"./engine/door.ts\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ((req, res) => {\n  // @ts-ignore\n  const allCronJobs = global.cronJobs;\n  const nextAutomation = allCronJobs.map(oneCron => {\n    return {\n      action: oneCron.action,\n      nextDate: oneCron.nextDates().toDate()\n    };\n  }).filter(i => [\"open\", \"close\"].includes(i.action)).sort((a, b) => {\n    if (moment__WEBPACK_IMPORTED_MODULE_0___default()(a.nextDate).isBefore(moment__WEBPACK_IMPORTED_MODULE_0___default()(b.nextDate))) return -1;\n    if (moment__WEBPACK_IMPORTED_MODULE_0___default()(a.nextDate).isAfter(moment__WEBPACK_IMPORTED_MODULE_0___default()(b.nextDate))) return 1;\n    return 0;\n  });\n  res.status(200).json(_objectSpread(_objectSpread(_objectSpread({}, _engine_door__WEBPACK_IMPORTED_MODULE_1__.doorState), _engine_door__WEBPACK_IMPORTED_MODULE_1__.status), {}, {\n    nextAutomation\n  }));\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydC1jb29wLy4vcGFnZXMvYXBpL2Rvb3Ivc3RhdHVzLnRzPzU5YmYiXSwibmFtZXMiOlsicmVxIiwicmVzIiwiYWxsQ3JvbkpvYnMiLCJnbG9iYWwiLCJjcm9uSm9icyIsIm5leHRBdXRvbWF0aW9uIiwibWFwIiwib25lQ3JvbiIsImFjdGlvbiIsIm5leHREYXRlIiwibmV4dERhdGVzIiwidG9EYXRlIiwiZmlsdGVyIiwiaSIsImluY2x1ZGVzIiwic29ydCIsImEiLCJiIiwibW9tZW50IiwiaXNCZWZvcmUiLCJpc0FmdGVyIiwic3RhdHVzIiwianNvbiIsImRvb3JTdGF0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFFQSwrREFBZSxDQUFDQSxHQUFELEVBQXNCQyxHQUF0QixLQUErQztBQUM1RDtBQUNBLFFBQU1DLFdBQVcsR0FBR0MsTUFBTSxDQUFDQyxRQUEzQjtBQUVBLFFBQU1DLGNBQWMsR0FBR0gsV0FBVyxDQUMvQkksR0FEb0IsQ0FDZkMsT0FBRCxJQUFrQjtBQUNyQixXQUFPO0FBQ0xDLFlBQU0sRUFBRUQsT0FBTyxDQUFDQyxNQURYO0FBRUxDLGNBQVEsRUFBRUYsT0FBTyxDQUFDRyxTQUFSLEdBQW9CQyxNQUFwQjtBQUZMLEtBQVA7QUFJRCxHQU5vQixFQU9sQkMsTUFQa0IsQ0FPVkMsQ0FBRCxJQUFZLENBQUMsTUFBRCxFQUFTLE9BQVQsRUFBa0JDLFFBQWxCLENBQTJCRCxDQUFDLENBQUNMLE1BQTdCLENBUEQsRUFRcEJPLElBUm9CLENBUWYsQ0FBQ0MsQ0FBRCxFQUFTQyxDQUFULEtBQW9CO0FBQ3hCLFFBQUlDLDZDQUFNLENBQUNGLENBQUMsQ0FBQ1AsUUFBSCxDQUFOLENBQW1CVSxRQUFuQixDQUE0QkQsNkNBQU0sQ0FBQ0QsQ0FBQyxDQUFDUixRQUFILENBQWxDLENBQUosRUFBcUQsT0FBTyxDQUFDLENBQVI7QUFDckQsUUFBSVMsNkNBQU0sQ0FBQ0YsQ0FBQyxDQUFDUCxRQUFILENBQU4sQ0FBbUJXLE9BQW5CLENBQTJCRiw2Q0FBTSxDQUFDRCxDQUFDLENBQUNSLFFBQUgsQ0FBakMsQ0FBSixFQUFvRCxPQUFPLENBQVA7QUFDcEQsV0FBTyxDQUFQO0FBQ0QsR0Fab0IsQ0FBdkI7QUFjQVIsS0FBRyxDQUFDb0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLCtDQUEwQkMsbURBQTFCLEdBQXdDRixnREFBeEM7QUFBZ0RoQjtBQUFoRDtBQUNELENBbkJEIiwiZmlsZSI6Ii4vcGFnZXMvYXBpL2Rvb3Ivc3RhdHVzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCI7XG5pbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSBcIm5leHRcIjtcbmltcG9ydCB7IGRvb3JTdGF0ZSwgc3RhdHVzIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9kb29yXCI7XG5cbmV4cG9ydCBkZWZhdWx0IChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkgPT4ge1xuICAvLyBAdHMtaWdub3JlXG4gIGNvbnN0IGFsbENyb25Kb2JzID0gZ2xvYmFsLmNyb25Kb2JzO1xuXG4gIGNvbnN0IG5leHRBdXRvbWF0aW9uID0gYWxsQ3JvbkpvYnNcbiAgICAubWFwKChvbmVDcm9uOiBhbnkpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFjdGlvbjogb25lQ3Jvbi5hY3Rpb24sXG4gICAgICAgIG5leHREYXRlOiBvbmVDcm9uLm5leHREYXRlcygpLnRvRGF0ZSgpLFxuICAgICAgfTtcbiAgICB9KVxuICAgICAgLmZpbHRlcigoaTogYW55KSA9PiBbXCJvcGVuXCIsIFwiY2xvc2VcIl0uaW5jbHVkZXMoaS5hY3Rpb24pKVxuICAgIC5zb3J0KChhOiBhbnksIGI6IGFueSkgPT4ge1xuICAgICAgaWYgKG1vbWVudChhLm5leHREYXRlKS5pc0JlZm9yZShtb21lbnQoYi5uZXh0RGF0ZSkpKSByZXR1cm4gLTE7XG4gICAgICBpZiAobW9tZW50KGEubmV4dERhdGUpLmlzQWZ0ZXIobW9tZW50KGIubmV4dERhdGUpKSkgcmV0dXJuIDE7XG4gICAgICByZXR1cm4gMDtcbiAgICB9KTtcblxuICByZXMuc3RhdHVzKDIwMCkuanNvbih7IC4uLmRvb3JTdGF0ZSwgLi4uc3RhdHVzLCBuZXh0QXV0b21hdGlvbiB9KTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/api/door/status.ts\n");

/***/ }),

/***/ "./server/modules/motor/GCERelay.js":
/*!******************************************!*\
  !*** ./server/modules/motor/GCERelay.js ***!
  \******************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nconst {\n  exec\n} = __webpack_require__(/*! child_process */ \"child_process\");\n\nconst MotorAbstract = __webpack_require__(/*! ./MotorAbstract */ \"./server/modules/motor/MotorAbstract.js\");\n\nconst getConfig = __webpack_require__(/*! ../../../lib/getConfig */ \"./lib/getConfig.js\");\n\nconst config = getConfig();\n\nclass GCERelay extends MotorAbstract {\n  constructor() {\n    var _config$door$options;\n\n    super();\n\n    _defineProperty(this, \"device\", void 0);\n\n    this.device = ((_config$door$options = config.door.options) === null || _config$door$options === void 0 ? void 0 : _config$door$options.device) || \"/dev/ttyUSB0\";\n  }\n\n  async moveUp() {\n    exec(`echo RLY${config.door.options.upPin}${config.door.options.activateWhen ? \"1\" : \"0\"} > ${this.device}`);\n    exec(`echo RLY${config.door.options.downPin}${!config.door.options.activateWhen ? \"1\" : \"0\"} > ${this.device}`);\n  }\n\n  async moveDown() {\n    exec(`echo RLY${config.door.options.upPin}${!config.door.options.activateWhen ? \"1\" : \"0\"} > ${this.device}`);\n    exec(`echo RLY${config.door.options.downPin}${config.door.options.activateWhen ? \"1\" : \"0\"} > ${this.device}`);\n  }\n\n  async stop() {\n    exec(`echo RLY${config.door.options.upPin}${config.door.options.activateWhen ? \"0\" : \"1\"} > ${this.device}`);\n    exec(`echo RLY${config.door.options.downPin}${config.door.options.activateWhen ? \"0\" : \"1\"} > ${this.device}`);\n  }\n\n}\n\nmodule.exports = GCERelay;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydC1jb29wLy4vc2VydmVyL21vZHVsZXMvbW90b3IvR0NFUmVsYXkuanM/NTNmYiJdLCJuYW1lcyI6WyJleGVjIiwicmVxdWlyZSIsIk1vdG9yQWJzdHJhY3QiLCJnZXRDb25maWciLCJjb25maWciLCJHQ0VSZWxheSIsImNvbnN0cnVjdG9yIiwiZGV2aWNlIiwiZG9vciIsIm9wdGlvbnMiLCJtb3ZlVXAiLCJ1cFBpbiIsImFjdGl2YXRlV2hlbiIsImRvd25QaW4iLCJtb3ZlRG93biIsInN0b3AiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU07QUFBRUE7QUFBRixJQUFXQyxtQkFBTyxDQUFDLG9DQUFELENBQXhCOztBQUNBLE1BQU1DLGFBQWEsR0FBR0QsbUJBQU8sQ0FBQyxnRUFBRCxDQUE3Qjs7QUFDQSxNQUFNRSxTQUFTLEdBQUdGLG1CQUFPLENBQUMsa0RBQUQsQ0FBekI7O0FBRUEsTUFBTUcsTUFBTSxHQUFHRCxTQUFTLEVBQXhCOztBQUVBLE1BQU1FLFFBQU4sU0FBdUJILGFBQXZCLENBQXFDO0FBR25DSSxhQUFXLEdBQUc7QUFBQTs7QUFDWjs7QUFEWTs7QUFHWixTQUFLQyxNQUFMLEdBQWMseUJBQUFILE1BQU0sQ0FBQ0ksSUFBUCxDQUFZQyxPQUFaLDhFQUFxQkYsTUFBckIsS0FBK0IsY0FBN0M7QUFDRDs7QUFFRCxRQUFNRyxNQUFOLEdBQWU7QUFDYlYsUUFBSSxDQUNELFdBQVVJLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZQyxPQUFaLENBQW9CRSxLQUFNLEdBQ25DUCxNQUFNLENBQUNJLElBQVAsQ0FBWUMsT0FBWixDQUFvQkcsWUFBcEIsR0FBbUMsR0FBbkMsR0FBeUMsR0FDMUMsTUFBSyxLQUFLTCxNQUFPLEVBSGhCLENBQUo7QUFLQVAsUUFBSSxDQUNELFdBQVVJLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZQyxPQUFaLENBQW9CSSxPQUFRLEdBQ3JDLENBQUNULE1BQU0sQ0FBQ0ksSUFBUCxDQUFZQyxPQUFaLENBQW9CRyxZQUFyQixHQUFvQyxHQUFwQyxHQUEwQyxHQUMzQyxNQUFLLEtBQUtMLE1BQU8sRUFIaEIsQ0FBSjtBQUtEOztBQUVELFFBQU1PLFFBQU4sR0FBaUI7QUFDZmQsUUFBSSxDQUNELFdBQVVJLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZQyxPQUFaLENBQW9CRSxLQUFNLEdBQ25DLENBQUNQLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZQyxPQUFaLENBQW9CRyxZQUFyQixHQUFvQyxHQUFwQyxHQUEwQyxHQUMzQyxNQUFLLEtBQUtMLE1BQU8sRUFIaEIsQ0FBSjtBQUtBUCxRQUFJLENBQ0QsV0FBVUksTUFBTSxDQUFDSSxJQUFQLENBQVlDLE9BQVosQ0FBb0JJLE9BQVEsR0FDckNULE1BQU0sQ0FBQ0ksSUFBUCxDQUFZQyxPQUFaLENBQW9CRyxZQUFwQixHQUFtQyxHQUFuQyxHQUF5QyxHQUMxQyxNQUFLLEtBQUtMLE1BQU8sRUFIaEIsQ0FBSjtBQUtEOztBQUVELFFBQU1RLElBQU4sR0FBYTtBQUNYZixRQUFJLENBQ0QsV0FBVUksTUFBTSxDQUFDSSxJQUFQLENBQVlDLE9BQVosQ0FBb0JFLEtBQU0sR0FDbkNQLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZQyxPQUFaLENBQW9CRyxZQUFwQixHQUFtQyxHQUFuQyxHQUF5QyxHQUMxQyxNQUFLLEtBQUtMLE1BQU8sRUFIaEIsQ0FBSjtBQUtBUCxRQUFJLENBQ0QsV0FBVUksTUFBTSxDQUFDSSxJQUFQLENBQVlDLE9BQVosQ0FBb0JJLE9BQVEsR0FDckNULE1BQU0sQ0FBQ0ksSUFBUCxDQUFZQyxPQUFaLENBQW9CRyxZQUFwQixHQUFtQyxHQUFuQyxHQUF5QyxHQUMxQyxNQUFLLEtBQUtMLE1BQU8sRUFIaEIsQ0FBSjtBQUtEOztBQTlDa0M7O0FBaURyQ1MsTUFBTSxDQUFDQyxPQUFQLEdBQWlCWixRQUFqQiIsImZpbGUiOiIuL3NlcnZlci9tb2R1bGVzL21vdG9yL0dDRVJlbGF5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBleGVjIH0gPSByZXF1aXJlKFwiY2hpbGRfcHJvY2Vzc1wiKTtcbmNvbnN0IE1vdG9yQWJzdHJhY3QgPSByZXF1aXJlKFwiLi9Nb3RvckFic3RyYWN0XCIpO1xuY29uc3QgZ2V0Q29uZmlnID0gcmVxdWlyZShcIi4uLy4uLy4uL2xpYi9nZXRDb25maWdcIik7XG5cbmNvbnN0IGNvbmZpZyA9IGdldENvbmZpZygpO1xuXG5jbGFzcyBHQ0VSZWxheSBleHRlbmRzIE1vdG9yQWJzdHJhY3Qge1xuICBkZXZpY2U7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuZGV2aWNlID0gY29uZmlnLmRvb3Iub3B0aW9ucz8uZGV2aWNlIHx8IFwiL2Rldi90dHlVU0IwXCI7XG4gIH1cblxuICBhc3luYyBtb3ZlVXAoKSB7XG4gICAgZXhlYyhcbiAgICAgIGBlY2hvIFJMWSR7Y29uZmlnLmRvb3Iub3B0aW9ucy51cFBpbn0ke1xuICAgICAgICBjb25maWcuZG9vci5vcHRpb25zLmFjdGl2YXRlV2hlbiA/IFwiMVwiIDogXCIwXCJcbiAgICAgIH0gPiAke3RoaXMuZGV2aWNlfWBcbiAgICApO1xuICAgIGV4ZWMoXG4gICAgICBgZWNobyBSTFkke2NvbmZpZy5kb29yLm9wdGlvbnMuZG93blBpbn0ke1xuICAgICAgICAhY29uZmlnLmRvb3Iub3B0aW9ucy5hY3RpdmF0ZVdoZW4gPyBcIjFcIiA6IFwiMFwiXG4gICAgICB9ID4gJHt0aGlzLmRldmljZX1gXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIG1vdmVEb3duKCkge1xuICAgIGV4ZWMoXG4gICAgICBgZWNobyBSTFkke2NvbmZpZy5kb29yLm9wdGlvbnMudXBQaW59JHtcbiAgICAgICAgIWNvbmZpZy5kb29yLm9wdGlvbnMuYWN0aXZhdGVXaGVuID8gXCIxXCIgOiBcIjBcIlxuICAgICAgfSA+ICR7dGhpcy5kZXZpY2V9YFxuICAgICk7XG4gICAgZXhlYyhcbiAgICAgIGBlY2hvIFJMWSR7Y29uZmlnLmRvb3Iub3B0aW9ucy5kb3duUGlufSR7XG4gICAgICAgIGNvbmZpZy5kb29yLm9wdGlvbnMuYWN0aXZhdGVXaGVuID8gXCIxXCIgOiBcIjBcIlxuICAgICAgfSA+ICR7dGhpcy5kZXZpY2V9YFxuICAgICk7XG4gIH1cblxuICBhc3luYyBzdG9wKCkge1xuICAgIGV4ZWMoXG4gICAgICBgZWNobyBSTFkke2NvbmZpZy5kb29yLm9wdGlvbnMudXBQaW59JHtcbiAgICAgICAgY29uZmlnLmRvb3Iub3B0aW9ucy5hY3RpdmF0ZVdoZW4gPyBcIjBcIiA6IFwiMVwiXG4gICAgICB9ID4gJHt0aGlzLmRldmljZX1gXG4gICAgKTtcbiAgICBleGVjKFxuICAgICAgYGVjaG8gUkxZJHtjb25maWcuZG9vci5vcHRpb25zLmRvd25QaW59JHtcbiAgICAgICAgY29uZmlnLmRvb3Iub3B0aW9ucy5hY3RpdmF0ZVdoZW4gPyBcIjBcIiA6IFwiMVwiXG4gICAgICB9ID4gJHt0aGlzLmRldmljZX1gXG4gICAgKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEdDRVJlbGF5O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./server/modules/motor/GCERelay.js\n");

/***/ }),

/***/ "./server/modules/motor/GPIO.js":
/*!**************************************!*\
  !*** ./server/modules/motor/GPIO.js ***!
  \**************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nconst MotorAbstract = __webpack_require__(/*! ./MotorAbstract */ \"./server/modules/motor/MotorAbstract.js\");\n\nconst getConfig = __webpack_require__(/*! ../../../lib/getConfig */ \"./lib/getConfig.js\");\n\nconst config = getConfig();\n\nclass GPIO extends MotorAbstract {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"gpio\", void 0);\n\n    _defineProperty(this, \"pinUp\", void 0);\n\n    _defineProperty(this, \"pinDown\", void 0);\n\n    this.gpio = __webpack_require__(/*! onoff */ \"onoff\").Gpio;\n    this.pinUp = new Gpio(config.door.options.upPin, \"high\");\n    this.pinDown = new Gpio(config.door.options.downPin, \"high\");\n  }\n\n  async moveUp() {\n    this.pinUp.writeSync(config.door.options.activateWhen ? \"1\" : \"0\");\n    this.pinDown.writeSync(!config.door.options.activateWhen ? \"1\" : \"0\");\n  }\n\n  async moveDown() {\n    this.pinUp.writeSync(!config.door.options.activateWhen ? \"1\" : \"0\");\n    this.pinDown.writeSync(config.door.options.activateWhen ? \"1\" : \"0\");\n  }\n\n  async stop() {\n    this.pinUp.writeSync(config.door.options.activateWhen ? \"0\" : \"1\");\n    this.pinDown.writeSync(config.door.options.activateWhen ? \"0\" : \"1\");\n  }\n\n}\n\nmodule.exports = GPIO;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydC1jb29wLy4vc2VydmVyL21vZHVsZXMvbW90b3IvR1BJTy5qcz9lZmJkIl0sIm5hbWVzIjpbIk1vdG9yQWJzdHJhY3QiLCJyZXF1aXJlIiwiZ2V0Q29uZmlnIiwiY29uZmlnIiwiR1BJTyIsImNvbnN0cnVjdG9yIiwiZ3BpbyIsInBpblVwIiwiR3BpbyIsImRvb3IiLCJvcHRpb25zIiwidXBQaW4iLCJwaW5Eb3duIiwiZG93blBpbiIsIm1vdmVVcCIsIndyaXRlU3luYyIsImFjdGl2YXRlV2hlbiIsIm1vdmVEb3duIiwic3RvcCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsYUFBYSxHQUFHQyxtQkFBTyxDQUFDLGdFQUFELENBQTdCOztBQUNBLE1BQU1DLFNBQVMsR0FBR0QsbUJBQU8sQ0FBQyxrREFBRCxDQUF6Qjs7QUFFQSxNQUFNRSxNQUFNLEdBQUdELFNBQVMsRUFBeEI7O0FBRUEsTUFBTUUsSUFBTixTQUFtQkosYUFBbkIsQ0FBaUM7QUFLL0JLLGFBQVcsR0FBRztBQUNaOztBQURZOztBQUFBOztBQUFBOztBQUdaLFNBQUtDLElBQUwsR0FBWUwsOENBQVo7QUFDQSxTQUFLTSxLQUFMLEdBQWEsSUFBSUMsSUFBSixDQUFTTCxNQUFNLENBQUNNLElBQVAsQ0FBWUMsT0FBWixDQUFvQkMsS0FBN0IsRUFBb0MsTUFBcEMsQ0FBYjtBQUNBLFNBQUtDLE9BQUwsR0FBZSxJQUFJSixJQUFKLENBQVNMLE1BQU0sQ0FBQ00sSUFBUCxDQUFZQyxPQUFaLENBQW9CRyxPQUE3QixFQUFzQyxNQUF0QyxDQUFmO0FBQ0Q7O0FBRUQsUUFBTUMsTUFBTixHQUFlO0FBQ2IsU0FBS1AsS0FBTCxDQUFXUSxTQUFYLENBQXFCWixNQUFNLENBQUNNLElBQVAsQ0FBWUMsT0FBWixDQUFvQk0sWUFBcEIsR0FBbUMsR0FBbkMsR0FBeUMsR0FBOUQ7QUFDQSxTQUFLSixPQUFMLENBQWFHLFNBQWIsQ0FBdUIsQ0FBQ1osTUFBTSxDQUFDTSxJQUFQLENBQVlDLE9BQVosQ0FBb0JNLFlBQXJCLEdBQW9DLEdBQXBDLEdBQTBDLEdBQWpFO0FBQ0Q7O0FBRUQsUUFBTUMsUUFBTixHQUFpQjtBQUNmLFNBQUtWLEtBQUwsQ0FBV1EsU0FBWCxDQUFxQixDQUFDWixNQUFNLENBQUNNLElBQVAsQ0FBWUMsT0FBWixDQUFvQk0sWUFBckIsR0FBb0MsR0FBcEMsR0FBMEMsR0FBL0Q7QUFDQSxTQUFLSixPQUFMLENBQWFHLFNBQWIsQ0FBdUJaLE1BQU0sQ0FBQ00sSUFBUCxDQUFZQyxPQUFaLENBQW9CTSxZQUFwQixHQUFtQyxHQUFuQyxHQUF5QyxHQUFoRTtBQUNEOztBQUVELFFBQU1FLElBQU4sR0FBYTtBQUNYLFNBQUtYLEtBQUwsQ0FBV1EsU0FBWCxDQUFxQlosTUFBTSxDQUFDTSxJQUFQLENBQVlDLE9BQVosQ0FBb0JNLFlBQXBCLEdBQW1DLEdBQW5DLEdBQXlDLEdBQTlEO0FBQ0EsU0FBS0osT0FBTCxDQUFhRyxTQUFiLENBQXVCWixNQUFNLENBQUNNLElBQVAsQ0FBWUMsT0FBWixDQUFvQk0sWUFBcEIsR0FBbUMsR0FBbkMsR0FBeUMsR0FBaEU7QUFDRDs7QUExQjhCOztBQTZCakNHLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmhCLElBQWpCIiwiZmlsZSI6Ii4vc2VydmVyL21vZHVsZXMvbW90b3IvR1BJTy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IE1vdG9yQWJzdHJhY3QgPSByZXF1aXJlKFwiLi9Nb3RvckFic3RyYWN0XCIpO1xuY29uc3QgZ2V0Q29uZmlnID0gcmVxdWlyZShcIi4uLy4uLy4uL2xpYi9nZXRDb25maWdcIik7XG5cbmNvbnN0IGNvbmZpZyA9IGdldENvbmZpZygpO1xuXG5jbGFzcyBHUElPIGV4dGVuZHMgTW90b3JBYnN0cmFjdCB7XG4gIGdwaW87XG4gIHBpblVwO1xuICBwaW5Eb3duO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLmdwaW8gPSByZXF1aXJlKFwib25vZmZcIikuR3BpbztcbiAgICB0aGlzLnBpblVwID0gbmV3IEdwaW8oY29uZmlnLmRvb3Iub3B0aW9ucy51cFBpbiwgXCJoaWdoXCIpO1xuICAgIHRoaXMucGluRG93biA9IG5ldyBHcGlvKGNvbmZpZy5kb29yLm9wdGlvbnMuZG93blBpbiwgXCJoaWdoXCIpO1xuICB9XG5cbiAgYXN5bmMgbW92ZVVwKCkge1xuICAgIHRoaXMucGluVXAud3JpdGVTeW5jKGNvbmZpZy5kb29yLm9wdGlvbnMuYWN0aXZhdGVXaGVuID8gXCIxXCIgOiBcIjBcIik7XG4gICAgdGhpcy5waW5Eb3duLndyaXRlU3luYyghY29uZmlnLmRvb3Iub3B0aW9ucy5hY3RpdmF0ZVdoZW4gPyBcIjFcIiA6IFwiMFwiKTtcbiAgfVxuXG4gIGFzeW5jIG1vdmVEb3duKCkge1xuICAgIHRoaXMucGluVXAud3JpdGVTeW5jKCFjb25maWcuZG9vci5vcHRpb25zLmFjdGl2YXRlV2hlbiA/IFwiMVwiIDogXCIwXCIpO1xuICAgIHRoaXMucGluRG93bi53cml0ZVN5bmMoY29uZmlnLmRvb3Iub3B0aW9ucy5hY3RpdmF0ZVdoZW4gPyBcIjFcIiA6IFwiMFwiKTtcbiAgfVxuXG4gIGFzeW5jIHN0b3AoKSB7XG4gICAgdGhpcy5waW5VcC53cml0ZVN5bmMoY29uZmlnLmRvb3Iub3B0aW9ucy5hY3RpdmF0ZVdoZW4gPyBcIjBcIiA6IFwiMVwiKTtcbiAgICB0aGlzLnBpbkRvd24ud3JpdGVTeW5jKGNvbmZpZy5kb29yLm9wdGlvbnMuYWN0aXZhdGVXaGVuID8gXCIwXCIgOiBcIjFcIik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBHUElPO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./server/modules/motor/GPIO.js\n");

/***/ }),

/***/ "./server/modules/motor/MotorAbstract.js":
/*!***********************************************!*\
  !*** ./server/modules/motor/MotorAbstract.js ***!
  \***********************************************/
/***/ (function(module) {

eval("class MotorAbstract {\n  constructor() {\n    // The constructor can be useful to initialize somethings\n    return null;\n  }\n\n  async moveUp() {// Move the Motor to the up\n  }\n\n  async moveDown() {// Move the Motor to the down\n  }\n\n  async stop() {// Stop the Motor)\n  }\n\n}\n\nmodule.exports = MotorAbstract;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydC1jb29wLy4vc2VydmVyL21vZHVsZXMvbW90b3IvTW90b3JBYnN0cmFjdC5qcz80MDNmIl0sIm5hbWVzIjpbIk1vdG9yQWJzdHJhY3QiLCJjb25zdHJ1Y3RvciIsIm1vdmVVcCIsIm1vdmVEb3duIiwic3RvcCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLGFBQU4sQ0FBb0I7QUFDbEJDLEVBQUFBLFdBQVcsR0FBRztBQUNaO0FBQ0EsV0FBTyxJQUFQO0FBQ0Q7O0FBQ0QsUUFBTUMsTUFBTixHQUFlLENBQ2I7QUFDRDs7QUFDRCxRQUFNQyxRQUFOLEdBQWlCLENBQ2Y7QUFDRDs7QUFDRCxRQUFNQyxJQUFOLEdBQWEsQ0FDWDtBQUNEOztBQWJpQjs7QUFnQnBCQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJOLGFBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgTW90b3JBYnN0cmFjdCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIFRoZSBjb25zdHJ1Y3RvciBjYW4gYmUgdXNlZnVsIHRvIGluaXRpYWxpemUgc29tZXRoaW5nc1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGFzeW5jIG1vdmVVcCgpIHtcbiAgICAvLyBNb3ZlIHRoZSBNb3RvciB0byB0aGUgdXBcbiAgfVxuICBhc3luYyBtb3ZlRG93bigpIHtcbiAgICAvLyBNb3ZlIHRoZSBNb3RvciB0byB0aGUgZG93blxuICB9XG4gIGFzeW5jIHN0b3AoKSB7XG4gICAgLy8gU3RvcCB0aGUgTW90b3IpXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBNb3RvckFic3RyYWN0O1xuIl0sImZpbGUiOiIuL3NlcnZlci9tb2R1bGVzL21vdG9yL01vdG9yQWJzdHJhY3QuanMuanMiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./server/modules/motor/MotorAbstract.js\n");

/***/ }),

/***/ "./server/modules/motor/index.js":
/*!***************************************!*\
  !*** ./server/modules/motor/index.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"motorInstance\": function() { return /* binding */ motorInstance; }\n/* harmony export */ });\nconst getConfig = __webpack_require__(/*! ../../../lib/getConfig */ \"./lib/getConfig.js\");\n\nlet motorInstance;\nconst config = getConfig();\n\nconst GCERelay = __webpack_require__(/*! ./GCERelay */ \"./server/modules/motor/GCERelay.js\");\n\nconst GPIO = __webpack_require__(/*! ./GPIO */ \"./server/modules/motor/GPIO.js\");\n\nswitch (config.door.module) {\n  case \"GCERelay\":\n    motorInstance = new GCERelay();\n    break;\n\n  case \"GPIO\":\n    motorInstance = new GPIO();\n    break;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFydC1jb29wLy4vc2VydmVyL21vZHVsZXMvbW90b3IvaW5kZXguanM/NWE4MCJdLCJuYW1lcyI6WyJnZXRDb25maWciLCJyZXF1aXJlIiwibW90b3JJbnN0YW5jZSIsImNvbmZpZyIsIkdDRVJlbGF5IiwiR1BJTyIsImRvb3IiLCJtb2R1bGUiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQSxTQUFTLEdBQUdDLG1CQUFPLENBQUMsa0RBQUQsQ0FBekI7O0FBRUEsSUFBSUMsYUFBSjtBQUVBLE1BQU1DLE1BQU0sR0FBR0gsU0FBUyxFQUF4Qjs7QUFFQSxNQUFNSSxRQUFRLEdBQUdILG1CQUFPLENBQUMsc0RBQUQsQ0FBeEI7O0FBQ0EsTUFBTUksSUFBSSxHQUFHSixtQkFBTyxDQUFDLDhDQUFELENBQXBCOztBQUVBLFFBQVFFLE1BQU0sQ0FBQ0csSUFBUCxDQUFZQyxNQUFwQjtBQUNFLE9BQUssVUFBTDtBQUNFTCxpQkFBYSxHQUFHLElBQUlFLFFBQUosRUFBaEI7QUFDQTs7QUFDRixPQUFLLE1BQUw7QUFDRUYsaUJBQWEsR0FBRyxJQUFJRyxJQUFKLEVBQWhCO0FBQ0E7QUFOSiIsImZpbGUiOiIuL3NlcnZlci9tb2R1bGVzL21vdG9yL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZ2V0Q29uZmlnID0gcmVxdWlyZShcIi4uLy4uLy4uL2xpYi9nZXRDb25maWdcIik7XG5cbmxldCBtb3Rvckluc3RhbmNlO1xuXG5jb25zdCBjb25maWcgPSBnZXRDb25maWcoKTtcblxuY29uc3QgR0NFUmVsYXkgPSByZXF1aXJlKFwiLi9HQ0VSZWxheVwiKTtcbmNvbnN0IEdQSU8gPSByZXF1aXJlKFwiLi9HUElPXCIpO1xuXG5zd2l0Y2ggKGNvbmZpZy5kb29yLm1vZHVsZSkge1xuICBjYXNlIFwiR0NFUmVsYXlcIjpcbiAgICBtb3Rvckluc3RhbmNlID0gbmV3IEdDRVJlbGF5KCk7XG4gICAgYnJlYWs7XG4gIGNhc2UgXCJHUElPXCI6XG4gICAgbW90b3JJbnN0YW5jZSA9IG5ldyBHUElPKCk7XG4gICAgYnJlYWs7XG59XG5cbmV4cG9ydCB7IG1vdG9ySW5zdGFuY2UgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./server/modules/motor/index.js\n");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ (function(module) {

"use strict";
module.exports = require("child_process");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ (function(module) {

"use strict";
module.exports = require("fs");;

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/***/ (function(module) {

"use strict";
module.exports = require("moment");;

/***/ }),

/***/ "onoff":
/*!************************!*\
  !*** external "onoff" ***!
  \************************/
/***/ (function(module) {

"use strict";
module.exports = require("onoff");;

/***/ }),

/***/ "winston":
/*!**************************!*\
  !*** external "winston" ***!
  \**************************/
/***/ (function(module) {

"use strict";
module.exports = require("winston");;

/***/ }),

/***/ "winston-daily-rotate-file":
/*!********************************************!*\
  !*** external "winston-daily-rotate-file" ***!
  \********************************************/
/***/ (function(module) {

"use strict";
module.exports = require("winston-daily-rotate-file");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
var __webpack_exports__ = (__webpack_exec__("./pages/api/door/status.ts"));
module.exports = __webpack_exports__;

})();