(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2838:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return M}});var n=s(5893),o=s(9016),r=s(5022),i=s(2106),a=s(9552),d=s(5427),c=s(5675),u=s(809),l=s.n(u),f=s(2447),v=s(9669),x=s.n(v),h=s(8767),p=x().create({baseURL:"/api/door/"}),g=function(){var e,t,s=(0,h.useQuery)("doorStatus",(0,f.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("status");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),{refetchInterval:3e3});return{state:null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.state,isMoving:"stop"!==(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.status),open:function(){return p.get("up")},close:function(){return p.get("down")}}},j={src:"/_next/static/image/public/open-lock.8d0f97ef90dfe5a4445f91a6e6ca2793.svg",height:36,width:36},_={src:"/_next/static/image/public/lock.48b64215e7effd06a93753c69c9c46bb.svg",height:36,width:36},Z=function(){var e=g(),t=e.state,s=e.isMoving,o=e.open,r=e.close;console.log("state:",t);var u="top"===t,l=s?(0,n.jsx)(i.Z,{id:"Door.Moving",defaultMessage:"The door is moving\u2026"}):u?(0,n.jsx)(i.Z,{id:"Door.IsOpen",defaultMessage:"Opened"}):(0,n.jsx)(i.Z,{id:"Door.IsClose",defaultMessage:"Closed"});return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(i.Z,{id:"Door.State",defaultMessage:"State"})," :"," ",l]}),(0,n.jsx)("div",{children:s?(0,n.jsx)(a.Z,{}):(0,n.jsx)(c.default,{src:u?j:_})}),!s&&(0,n.jsxs)("div",{children:[!u&&(0,n.jsx)(d.Z,{onClick:o,children:(0,n.jsx)(i.Z,{id:"Door.Open",defaultMessage:"Open"})}),u&&(0,n.jsx)(d.Z,{onClick:r,children:(0,n.jsx)(i.Z,{id:"Door.Close",defaultMessage:"Close"})})]})]})},C=s(5323),w=s.n(C);function M(){return(0,n.jsxs)("div",{className:w().container,children:["Cotcot",(0,n.jsx)(o.Z,{children:(0,n.jsxs)(r.Z,{children:[(0,n.jsx)("div",{className:w().titleCard,children:(0,n.jsx)(i.Z,{id:"Home.Door",defaultMessage:"Door"})}),(0,n.jsx)(Z,{})]})})]})}},5301:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(2838)}])},5323:function(e){e.exports={titleCard:"Home_titleCard__35HKW"}}},function(e){e.O(0,[774,386,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);