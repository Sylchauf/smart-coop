(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{1149:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return W}});var i=n(5893),s=n(9586),r=n(9378),a=n(5022),o=n(2106),l=(n(7294),n(615)),c=n(809),d=n.n(c),u=n(2447),f=n(9669),x=n.n(f),h=n(8767),g=function(){var e=(0,h.useQuery)("cameraList",(0,u.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x().get("/api/camera/list");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),{refetchInterval:2e3});return null===e||void 0===e?void 0:e.data},v=n(381),m=n.n(v),j=function(e){var t=e.id,n=e.lastRequest,s=(e.config,m()(n).local().format("YYYY-MM-DD HH:mm:ss"));return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{background:"white",position:"absolute",color:"black",zIndex:999,padding:8,borderBottomRightRadius:8},children:s}),(0,i.jsx)("img",{src:"/api/camera/lastimage/"+t+"?lastRequest=".concat(n),alt:"Camera"})]})},p=(n(9207),function(){var e=g();return e?(0,i.jsx)(l.lr,{autoPlay:!0,showThumbs:!1,children:e.map((function(e){return(0,i.jsxs)("div",{children:[(0,i.jsx)(j,{id:e.id,config:e.config,lastRequest:e.lastRequest}),(0,i.jsx)("p",{className:"legend",children:e.config.name})]},e.id+e.config.name)}))}):null}),b=n(9552),Z=n(7573),w=n(5675),y=n(3866),M=x().create({baseURL:"/api/door/"}),_=function(){var e,t=(0,h.useQuery)("doorStatus",(0,u.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.get("status");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),{refetchInterval:3e3}),n=t.data,i=t.isLoading,s=(0,y.N)();return{state:null===n||void 0===n?void 0:n.state,isMoving:"stop"!==(null===n||void 0===n?void 0:n.status),nextAutomation:(null===n||void 0===n||null===(e=n.nextAutomation)||void 0===e?void 0:e[0])||{},isLoading:i,open:function(){return s().then((function(){return M.get("up")}))},close:function(){return s().then((function(){return M.get("down")}))}}},N={src:"/_next/static/image/public/open-lock.8d0f97ef90dfe5a4445f91a6e6ca2793.svg",height:36,width:36},C={src:"/_next/static/image/public/lock.48b64215e7effd06a93753c69c9c46bb.svg",height:36,width:36},k=function(){var e=_(),t=e.state,n=e.nextAutomation,s=e.isLoading,r=e.isMoving,a=e.open,l=e.close;if(s)return null;var c="top"===t,d=r?(0,i.jsx)(o.Z,{id:"Door.Moving",defaultMessage:"Moving\u2026"}):c?(0,i.jsx)(o.Z,{id:"Door.IsOpen",defaultMessage:"Opened"}):(0,i.jsx)(o.Z,{id:"Door.IsClose",defaultMessage:"Closed"});return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("b",{children:[(0,i.jsx)(o.Z,{id:"Door.State",defaultMessage:"State"})," :"," "]}),(0,i.jsx)("span",{style:{color:c?"green":r?"blue":"red"},children:d})]}),(0,i.jsxs)("div",{style:{color:"gray",fontSize:"75%"},children:["close"===n.action&&(0,i.jsx)(o.Z,{id:"Door.NextCloseAt",values:{b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.jsx)("b",{children:t})},time:m()(n.nextDate).local().format("HH:mm")},defaultMessage:"Next automatic <b>closing at {time}</b>"}),"open"===n.action&&(0,i.jsx)(o.Z,{id:"Door.NextOpenAt",values:{b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.jsx)("b",{children:t})},time:m()(n.nextDate).local().format("HH:mm")},defaultMessage:"Next automatic <b>opening at {time}</b>"})]}),(0,i.jsx)("br",{}),(0,i.jsx)("div",{style:{margin:"0 auto",width:72,height:72},children:r?(0,i.jsx)(b.Z,{}):(0,i.jsx)(w.default,{src:c?N:C,alt:t,layout:"responsive"})}),(0,i.jsx)("br",{}),!r&&(0,i.jsxs)("div",{children:[!c&&(0,i.jsx)(Z.Z,{onClick:a,fullWidth:!0,variant:"outlined",children:(0,i.jsx)(o.Z,{id:"Door.Open",defaultMessage:"Open"})}),c&&(0,i.jsx)(Z.Z,{onClick:l,fullWidth:!0,variant:"outlined",children:(0,i.jsx)(o.Z,{id:"Door.Close",defaultMessage:"Close"})})]})]})},L={primary:"#fc7100"},O={src:"/_next/static/image/public/logo.a7814df0f364f91fca45a29183d26127.svg",height:72,width:72},D=function(){var e=(0,i.jsx)("div",{style:{fontSize:24,display:"inline-block",position:"relative",top:1,left:-3,width:25,overflow:"hidden"},children:"\ud83e\udd5a"});return(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",borderBottom:"1px solid lightgray",paddingBottom:4,marginBottom:16},children:[(0,i.jsx)(w.default,{src:O,alt:"NAME"}),(0,i.jsxs)("div",{style:{fontSize:36,fontWeight:600},children:[(0,i.jsx)("span",{style:{color:L.primary},children:"S"}),"mart","  ",(0,i.jsxs)("span",{style:{color:L.primary},children:["K",e,"tK",e,"t"]})]})]})},A=x().create({baseURL:"/api/light/"}),H=function(){var e,t=(0,h.useQuery)("lightStatus",(0,u.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("status");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),{refetchInterval:3e3}),n=t.data,i=t.isLoading,s=t.refetch,r=(0,y.N)();return{state:null===n||void 0===n?void 0:n.state,nextAutomation:(null===n||void 0===n||null===(e=n.nextAutomation)||void 0===e?void 0:e[0])||{},isLoading:i,on:function(){return r().then((0,u.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("on");case 2:return t=e.sent,s(),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))))},off:function(){return r().then((0,u.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("off");case 2:return t=e.sent,s(),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))))}}},S={src:"/_next/static/image/public/light-on.c8b6abba956bd7832801554f7fe5bfa2.svg",height:72,width:72},I={src:"/_next/static/image/public/light-off.03408c6d15ed253a59eca4acdba2e07a.svg",height:72,width:72},P=function(){var e=H(),t=e.state,n=e.nextAutomation,s=e.isLoading,r=e.on,a=e.off;if(s)return null;var l="on"===t,c=l?(0,i.jsx)(o.Z,{id:"Light.IsOn",defaultMessage:"On"}):(0,i.jsx)(o.Z,{id:"Light.IsOff",defaultMessage:"Off"});return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("b",{children:[(0,i.jsx)(o.Z,{id:"Light.State",defaultMessage:"State"})," :"," "]}),(0,i.jsx)("span",{style:{color:l?"green":"red"},children:c})]}),(0,i.jsxs)("div",{style:{color:"gray",fontSize:"75%"},children:["light_off"===n.action&&(0,i.jsx)(o.Z,{id:"Light.NextOffAt",values:{b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.jsx)("b",{children:t})},time:m()(n.nextDate).local().format("HH:mm")},defaultMessage:"Next automatic <b>switch off at {time}</b>"}),"light_on"===n.action&&(0,i.jsx)(o.Z,{id:"Light.NextOnAt",values:{b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.jsx)("b",{children:t})},time:m()(n.nextDate).local().format("HH:mm")},defaultMessage:"Next automatic <b>switch on at {time}</b>"})]}),(0,i.jsx)("br",{}),(0,i.jsx)("div",{style:{margin:"0 auto",width:72,height:72},children:(0,i.jsx)(w.default,{src:l?S:I,layout:"responsive",alt:t})}),(0,i.jsx)("br",{}),(0,i.jsxs)("div",{children:[!l&&(0,i.jsx)(Z.Z,{onClick:r,fullWidth:!0,variant:"outlined",children:(0,i.jsx)(o.Z,{id:"Light.On",defaultMessage:"On"})}),l&&(0,i.jsx)(Z.Z,{onClick:a,fullWidth:!0,variant:"outlined",children:(0,i.jsx)(o.Z,{id:"Light.Off",defaultMessage:"Off"})})]})]})},R=n(5323),E=n.n(R);function W(){return(0,i.jsxs)("div",{className:E().container,children:[(0,i.jsx)(D,{}),(0,i.jsxs)(s.ZP,{container:!0,spacing:4,children:[(0,i.jsx)(s.ZP,{item:!0,xs:12,sm:9,children:(0,i.jsx)(r.Z,{children:(0,i.jsxs)(a.Z,{children:[(0,i.jsx)("div",{className:E().titleCard,children:(0,i.jsx)(o.Z,{id:"Home.Cameras",defaultMessage:"Cameras"})}),(0,i.jsx)(p,{})]})})}),(0,i.jsx)(s.ZP,{item:!0,xs:12,sm:3,children:(0,i.jsxs)(s.ZP,{container:!0,spacing:4,children:[(0,i.jsx)(s.ZP,{item:!0,xs:12,children:(0,i.jsx)(r.Z,{children:(0,i.jsxs)(a.Z,{children:[(0,i.jsx)("div",{className:E().titleCard,children:(0,i.jsx)(o.Z,{id:"Home.Door",defaultMessage:"Door"})}),(0,i.jsx)(k,{})]})})}),(0,i.jsx)(s.ZP,{item:!0,xs:12,children:(0,i.jsx)(r.Z,{children:(0,i.jsxs)(a.Z,{children:[(0,i.jsx)("div",{className:E().titleCard,children:(0,i.jsx)(o.Z,{id:"Home.Light",defaultMessage:"Light"})}),(0,i.jsx)(P,{})]})})})]})})]})]})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1149)}])},5323:function(e){e.exports={titleCard:"Home_titleCard__35HKW"}}},function(e){e.O(0,[885,966,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);