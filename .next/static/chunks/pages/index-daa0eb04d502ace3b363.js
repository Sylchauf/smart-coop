(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{540:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return I}});var n=s(5893),i=s(8312),r=s(9016),a=s(5022),o=s(2106),d=(s(7294),s(615)),c=s(809),l=s.n(c),u=s(2447),f=s(9669),h=s.n(f),x=s(8767),p=function(){var e=(0,x.useQuery)("cameraList",(0,u.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h().get("/api/camera/list");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),{refetchInterval:2e3});return null===e||void 0===e?void 0:e.data},v=s(381),j=s.n(v),g=s(5675),m=function(e){var t=e.id,s=e.lastRequest,i=e.config,r=j()(s).local().format("YYYY-MM-DD HH:mm:ss");return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{background:"white",position:"absolute",color:"black",zIndex:999,padding:8,borderBottomRightRadius:8},children:r}),(0,n.jsx)(g.default,{src:"/api/camera/lastimage/"+t+"?lastRequest=".concat(s),width:i.options.width,height:i.options.height,alt:"Camera",layout:"responsive"})]})},w=(s(9207),function(){var e=p();return e?(0,n.jsx)(d.lr,{autoPlay:!0,showThumbs:!1,children:e.map((function(e){return(0,n.jsxs)("div",{children:[(0,n.jsx)(m,{id:e.id,config:e.config,lastRequest:e.lastRequest}),(0,n.jsx)("p",{className:"legend",children:e.config.name})]},e.id+e.config.name)}))}):null}),Z=s(9552),_=s(5427),b=h().create({baseURL:"/api/door/"}),y=function(){var e,t,s=(0,x.useQuery)("doorStatus",(0,u.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("status");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),{refetchInterval:3e3});return{state:null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.state,isMoving:"stop"!==(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.status),open:function(){return b.get("up")},close:function(){return b.get("down")}}},C={src:"/_next/static/image/public/open-lock.8d0f97ef90dfe5a4445f91a6e6ca2793.svg",height:36,width:36},M={src:"/_next/static/image/public/lock.48b64215e7effd06a93753c69c9c46bb.svg",height:36,width:36},k=function(){var e=y(),t=e.state,s=e.isMoving,i=e.open,r=e.close,a="top"===t,d=s?(0,n.jsx)(o.Z,{id:"Door.Moving",defaultMessage:"The door is moving\u2026"}):a?(0,n.jsx)(o.Z,{id:"Door.IsOpen",defaultMessage:"Opened"}):(0,n.jsx)(o.Z,{id:"Door.IsClose",defaultMessage:"Closed"});return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{id:"Door.State",defaultMessage:"State"})," :"," ",d]}),(0,n.jsx)("div",{children:s?(0,n.jsx)(Z.Z,{}):(0,n.jsx)(g.default,{src:a?C:M})}),!s&&(0,n.jsxs)("div",{children:[!a&&(0,n.jsx)(_.Z,{onClick:i,children:(0,n.jsx)(o.Z,{id:"Door.Open",defaultMessage:"Open"})}),a&&(0,n.jsx)(_.Z,{onClick:r,children:(0,n.jsx)(o.Z,{id:"Door.Close",defaultMessage:"Close"})})]})]})},D={primary:"#fc7100"},N={src:"/_next/static/image/public/logo.a7814df0f364f91fca45a29183d26127.svg",height:72,width:72},R=function(){var e=(0,n.jsx)("div",{style:{fontSize:24,display:"inline-block",position:"relative",top:1,left:-3,width:25,overflow:"hidden"},children:"\ud83e\udd5a"});return(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(g.default,{src:N,alt:"NAME"}),(0,n.jsxs)("div",{style:{fontSize:36,fontWeight:600},children:[(0,n.jsx)("span",{style:{color:D.primary},children:"S"}),"mart","  ",(0,n.jsxs)("span",{style:{color:D.primary},children:["K",e,"tK",e,"t"]})]})]})},E=s(5323),H=s.n(E);function I(){return(0,n.jsxs)("div",{className:H().container,children:[(0,n.jsx)(R,{}),(0,n.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:9,children:(0,n.jsx)(r.Z,{children:(0,n.jsxs)(a.Z,{children:[(0,n.jsx)("div",{className:H().titleCard,children:(0,n.jsx)(o.Z,{id:"Home.Cameras",defaultMessage:"Cameras"})}),(0,n.jsx)(w,{})]})})}),(0,n.jsx)(i.ZP,{item:!0,xs:6,sm:3,children:(0,n.jsx)(r.Z,{children:(0,n.jsxs)(a.Z,{children:[(0,n.jsx)("div",{className:H().titleCard,children:(0,n.jsx)(o.Z,{id:"Home.Door",defaultMessage:"Door"})}),(0,n.jsx)(k,{})]})})})]})]})}},5301:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(540)}])},5323:function(e){e.exports={titleCard:"Home_titleCard__35HKW"}}},function(e){e.O(0,[885,323,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);