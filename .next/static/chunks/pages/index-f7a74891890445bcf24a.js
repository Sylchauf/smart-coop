(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{540:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return I}});var n=t(5893),i=t(8312),r=t(9016),a=t(5022),o=t(2106),c=(t(7294),t(615)),d=t(809),l=t.n(d),u=t(2447),f=t(9669),x=t.n(f),h=t(8767),v=function(){var e=(0,h.useQuery)("cameraList",(0,u.Z)(l().mark((function e(){var s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x().get("/api/camera/list");case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)}))),{refetchInterval:2e3});return null===e||void 0===e?void 0:e.data},p=t(381),j=t.n(p),g=function(e){var s=e.id,t=e.lastRequest,i=(e.config,j()(t).local().format("YYYY-MM-DD HH:mm:ss"));return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{background:"white",position:"absolute",color:"black",zIndex:999,padding:8,borderBottomRightRadius:8},children:i}),(0,n.jsx)("img",{src:"/api/camera/lastimage/"+s+"?lastRequest=".concat(t),alt:"Camera"})]})},m=(t(9207),function(){var e=v();return e?(0,n.jsx)(c.lr,{autoPlay:!0,showThumbs:!1,children:e.map((function(e){return(0,n.jsxs)("div",{children:[(0,n.jsx)(g,{id:e.id,config:e.config,lastRequest:e.lastRequest}),(0,n.jsx)("p",{className:"legend",children:e.config.name})]},e.id+e.config.name)}))}):null}),Z=t(9552),w=t(5427),_=t(5675),b=x().create({baseURL:"/api/door/"}),C=function(){var e,s,t=(0,h.useQuery)("doorStatus",(0,u.Z)(l().mark((function e(){var s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("status");case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)}))),{refetchInterval:3e3});return{state:null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.state,isMoving:"stop"!==(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.status),open:function(){return b.get("up")},close:function(){return b.get("down")}}},y={src:"/_next/static/image/public/open-lock.8d0f97ef90dfe5a4445f91a6e6ca2793.svg",height:36,width:36},M={src:"/_next/static/image/public/lock.48b64215e7effd06a93753c69c9c46bb.svg",height:36,width:36},k=function(){var e=C(),s=e.state,t=e.isMoving,i=e.open,r=e.close,a="top"===s,c=t?(0,n.jsx)(o.Z,{id:"Door.Moving",defaultMessage:"The door is moving\u2026"}):a?(0,n.jsx)(o.Z,{id:"Door.IsOpen",defaultMessage:"Opened"}):(0,n.jsx)(o.Z,{id:"Door.IsClose",defaultMessage:"Closed"});return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{id:"Door.State",defaultMessage:"State"})," :"," ",c]}),(0,n.jsx)("div",{children:t?(0,n.jsx)(Z.Z,{}):(0,n.jsx)(_.default,{src:a?y:M})}),!t&&(0,n.jsxs)("div",{children:[!a&&(0,n.jsx)(w.Z,{onClick:i,children:(0,n.jsx)(o.Z,{id:"Door.Open",defaultMessage:"Open"})}),a&&(0,n.jsx)(w.Z,{onClick:r,children:(0,n.jsx)(o.Z,{id:"Door.Close",defaultMessage:"Close"})})]})]})},D={primary:"#fc7100"},N={src:"/_next/static/image/public/logo.a7814df0f364f91fca45a29183d26127.svg",height:72,width:72},R=function(){var e=(0,n.jsx)("div",{style:{fontSize:24,display:"inline-block",position:"relative",top:1,left:-3,width:25,overflow:"hidden"},children:"\ud83e\udd5a"});return(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(_.default,{src:N,alt:"NAME"}),(0,n.jsxs)("div",{style:{fontSize:36,fontWeight:600},children:[(0,n.jsx)("span",{style:{color:D.primary},children:"S"}),"mart","  ",(0,n.jsxs)("span",{style:{color:D.primary},children:["K",e,"tK",e,"t"]})]})]})},E=t(5323),H=t.n(E);function I(){return(0,n.jsxs)("div",{className:H().container,children:[(0,n.jsx)(R,{}),(0,n.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:9,children:(0,n.jsx)(r.Z,{children:(0,n.jsxs)(a.Z,{children:[(0,n.jsx)("div",{className:H().titleCard,children:(0,n.jsx)(o.Z,{id:"Home.Cameras",defaultMessage:"Cameras"})}),(0,n.jsx)(m,{})]})})}),(0,n.jsx)(i.ZP,{item:!0,xs:6,sm:3,children:(0,n.jsx)(r.Z,{children:(0,n.jsxs)(a.Z,{children:[(0,n.jsx)("div",{className:H().titleCard,children:(0,n.jsx)(o.Z,{id:"Home.Door",defaultMessage:"Door"})}),(0,n.jsx)(k,{})]})})})]})]})}},5301:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(540)}])},5323:function(e){e.exports={titleCard:"Home_titleCard__35HKW"}}},function(e){e.O(0,[885,323,774,888,179],(function(){return s=5301,e(e.s=s);var s}));var s=e.O();_N_E=s}]);